{"version":3,"file":"index.js","sources":["../src/js/refs.js","../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export const refs = {\n    form: document.querySelector('.form'),\n    input: document.querySelector('input[name=\"search-text\"]'),\n    gallery: document.querySelector('.js-gallery'),\n    loader: document.querySelector('.js-loader'),\n    button: document.querySelector('button'),\n  };","  import { refs } from './refs.js'\n  import SimpleLightbox from \"simplelightbox\";\n  import \"simplelightbox/dist/simple-lightbox.min.css\";\n  \n  export const lightbox = new SimpleLightbox(\".js-gallery a\", {\n    captions: true,\n    captionsData: \"alt\",\n    captionDelay: 250,\n    captionPosition: \"bottom\"\n  });\n\n  export function createGallery(images) {\n    refs.gallery.innerHTML = images.map(image => (\n      `<li class=\"gallery-item\">\n      <div class=\"gallery-container\">\n      <div class=\"gallery\">\n        <a class=\"preview\" href=\"${image.largeImageURL}\"><img src=\"${image.webformatURL}\" alt=\"${image.tags}\" title=\"\"/></a>\n    </div>\n\n    <div class=\"description\">\n          <div class=\"sub-descr\">\n          <span class=\"img-descr-title\">Likes</span>\n          <span class=\"img-descr\">${image.likes}</span>\n        </div>\n        <div class=\"sub-descr\">\n          <span class=\"img-descr-title\">Views</span>\n          <span class=\"img-descr\">${image.views}</span>\n        </div>\n        <div class=\"sub-descr\">\n          <span class=\"img-descr-title\">Comments</span>\n          <span class=\"img-descr\">${image.comments}</span>\n        </div>\n        <div class=\"sub-descr\">\n          <span class=\"img-descr-title\">Downloads</span>\n          <span class=\"img-descr\">${image.downloads}</span>\n        </div>\n    </div>\n    </div>\n    </li>`\n\n    )).join('');\n    lightbox.refresh();\n  };\n\n\n  export function clearGallery() {\n    refs.gallery.innerHTML = '';\n  };\n\n  export function showLoader() {\n    refs.loader.classList.remove('hidden');\n  };\n\n  export function hideLoader() {\n    refs.loader.classList.add('hidden');\n  };\n\n","import axios from 'axios';\n\n export function getImagesByQuery(query) {\n   return axios.get('https://pixabay.com/api/', {\n    params: {\n        key: '53354647-5c23245d0a5319fc788c83675',\n            q: query,\n            image_type: 'photo',\n            orientation: 'horizontal',\n            safesearch: true,\n    }\n   })\n   .then(res =>  res.data.hits)\n    .catch(err => console.log(err));\n};\n\n\n\n","import { refs } from './js/refs';\nimport { clearGallery } from './js/render-functions';\nimport { showLoader } from './js/render-functions';\nimport { hideLoader } from './js/render-functions';\nimport { getImagesByQuery } from './js/pixabay-api';\nimport { createGallery } from './js/render-functions';\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nrefs.form.addEventListener('submit', (e) => {\n    e.preventDefault();\n\n    refs.input.blur();\n\n    const query = refs.input.value.trim();\n    if(!query) {\n      iziToast.show({\n        message: `Type something to begin your search.`,\n        color: '#EF4040',\n        messageColor: 'white',\n        position: 'topRight',\n        messageSize: '20',\n        timeout: '2000',\n        theme: 'dark',\n      }); return;\n    } ;\n    clearGallery();\n    showLoader();\n\n    getImagesByQuery(query)\n    .then(images => {\n        if(!images || images.length === 0) {\n          iziToast.show({\n            message: `Sorry, there are no images matching your search query. Please try again!`,\n            iconUrl: './img/bi_x-octagon.svg',\n            color: '#EF4040',\n            position: 'topRight',\n            messageSize: '20',\n            timeout: '4000',\n            theme: 'dark',\n          });\n        }\n        createGallery(images, refs.gallery);\n    })\n    .catch(err => {\n        iziToast.show({\n          message: `Something went wrong. Please try again later.`,\n          iconUrl: './img/bi_x-octagon.svg',\n          color: '#EF4040',\n          position: 'topRight',\n          messageSize: '20',\n          timeout: '4000',\n          theme: 'dark',\n        });\n    }).finally(() => {\n      hideLoader();\n    })\n\n    refs.form.reset();\n  });\n\n"],"names":["refs","lightbox","SimpleLightbox","createGallery","images","image","clearGallery","showLoader","hideLoader","getImagesByQuery","query","axios","res","err","e","iziToast"],"mappings":"owBAAO,MAAMA,EAAO,CAChB,KAAM,SAAS,cAAc,OAAO,EACpC,MAAO,SAAS,cAAc,2BAA2B,EACzD,QAAS,SAAS,cAAc,aAAa,EAC7C,OAAQ,SAAS,cAAc,YAAY,EAC3C,OAAQ,SAAS,cAAc,QAAQ,CACxC,ECFYC,EAAW,IAAIC,EAAe,gBAAiB,CAC1D,SAAU,GACV,aAAc,MACd,aAAc,IACd,gBAAiB,QACrB,CAAG,EAEM,SAASC,EAAcC,EAAQ,CACpCJ,EAAK,QAAQ,UAAYI,EAAO,IAAIC,GAClC;AAAA;AAAA;AAAA,mCAG6BA,EAAM,aAAa,eAAeA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oCAMvEA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,oCAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,oCAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,oCAIdA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,UAM9C,EAAE,KAAK,EAAE,EACVJ,EAAS,QAAO,CAEpB,CAES,SAASK,GAAe,CAC7BN,EAAK,QAAQ,UAAY,EAE7B,CACS,SAASO,GAAa,CAC3BP,EAAK,OAAO,UAAU,OAAO,QAAQ,CAEzC,CACS,SAASQ,GAAa,CAC3BR,EAAK,OAAO,UAAU,IAAI,QAAQ,CACtC,CCrDQ,SAASS,EAAiBC,EAAO,CACtC,OAAOC,EAAM,IAAI,2BAA4B,CAC5C,OAAQ,CACJ,IAAK,qCACD,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACnB,CACL,CAAI,EACA,KAAKE,GAAQA,EAAI,KAAK,IAAI,EACzB,MAAMC,GAAO,QAAQ,IAAIA,CAAG,CAAC,CAClC,CCLAb,EAAK,KAAK,iBAAiB,SAAWc,GAAM,CACxCA,EAAE,eAAc,EAEhBd,EAAK,MAAM,OAEX,MAAMU,EAAQV,EAAK,MAAM,MAAM,KAAI,EACnC,GAAG,CAACU,EAAO,CACTK,EAAS,KAAK,CACZ,QAAS,uCACT,MAAO,UACP,aAAc,QACd,SAAU,WACV,YAAa,KACb,QAAS,OACT,MAAO,MACR,CAAA,EAAG,MAEV,CAAIT,EAAY,EACZC,IAEAE,EAAiBC,CAAK,EACrB,KAAKN,GAAU,EACT,CAACA,GAAUA,EAAO,SAAW,IAC9BW,EAAS,KAAK,CACZ,QAAS,2EACT,QAAS,yBACT,MAAO,UACP,SAAU,WACV,YAAa,KACb,QAAS,OACT,MAAO,MACnB,CAAW,EAEHZ,EAAcC,CAAoB,CAC1C,CAAK,EACA,MAAMS,GAAO,CACVE,EAAS,KAAK,CACZ,QAAS,gDACT,QAAS,yBACT,MAAO,UACP,SAAU,WACV,YAAa,KACb,QAAS,OACT,MAAO,MACjB,CAAS,CACT,CAAK,EAAE,QAAQ,IAAM,CACfP,GACN,CAAK,EAEDR,EAAK,KAAK,OACd,CAAG"}